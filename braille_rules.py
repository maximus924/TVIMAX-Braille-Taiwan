# 檔案名稱: braille_rules.py (v18 數學大師修復版)

# 1. 聲母
INITIALS = {
    'ㄅ': '⠕', 'ㄆ': '⠏', 'ㄇ': '⠍', 'ㄈ': '⠟',
    'ㄉ': '⠙', 'ㄊ': '⠋', 'ㄋ': '⠝', 'ㄌ': '⠉',
    'ㄍ': '⠅', 'ㄎ': '⠇', 'ㄏ': '⠗',
    'ㄐ': '⠅', 'ㄑ': '⠚', 'ㄒ': '⠑',
    'ㄓ': '⠁', 'ㄔ': '⠃', 'ㄕ': '⠊', 'ㄖ': '⠛',
    'ㄗ': '⠓', 'ㄘ': '⠚', 'ㄙ': '⠑'
}
ZI_CHI_SHI_RI_GROUPS = {'ㄓ', 'ㄔ', 'ㄕ', 'ㄖ', 'ㄗ', 'ㄘ', 'ㄙ'}

# 2. 韻母
FINALS = {
    'ㄚ': '⠜', 'ㄛ': '⠣', 'ㄜ': '⠮', 'ㄝ': '⠢',
    'ㄞ': '⠺', 'ㄟ': '⠴', 'ㄠ': '⠩', 'ㄡ': '⠷',
    'ㄢ': '⠧', 'ㄣ': '⠥', 'ㄤ': '⠭', 'ㄥ': '⠵',
    'ㄦ': '⠱', 'ㄧ': '⠡', 'ㄨ': '⠌', 'ㄩ': '⠳'
}

# 3. 結合韻
COMBINED_FINALS = {
    'ㄧㄚ': '⠾', 'ㄨㄚ': '⠔', 'ㄧㄛ': '⠴', 'ㄨㄛ': '⠒',
    'ㄧㄝ': '⠬', 'ㄩㄝ': '⠦', 'ㄧㄞ': '⠢', 'ㄨㄞ': '⠶',
    'ㄨㄟ': '⠫', 'ㄧㄠ': '⠪', 'ㄧㄡ': '⠎', 'ㄧㄢ': '⠞',
    'ㄨㄢ': '⠻', 'ㄩㄢ': '⠘', 'ㄧㄣ': '⠹', 'ㄨㄣ': '⠿',
    'ㄩㄣ': '⠲', 'ㄧㄤ': '⠨', 'ㄨㄤ': '⠸', 'ㄧㄥ': '⠽',
    'ㄨㄥ': '⠯', 'ㄩㄥ': '⠖'
}

# 4. 聲調
TONES = {1: '⠄', 'ˊ': '⠂', 'ˇ': '⠈', 'ˋ': '⠐', '˙': '⠁', 5: '⠁'}

# 5. 標點符號 (一般)
PUNCTUATION_BASE = {
    '，': '⠆', ',': '⠆', '、': '⠠', '；': '⠰', ';': '⠰',
    '：': '⠒⠒', ':': '⠒⠒', '。': '⠤', '.': '⠤',
    '？': '⠕', '?': '⠕', '！': '⠇', '!': '⠇',
    '「': '⠰⠤', '」': '⠤⠆', '【': '⠯', ']': '⠽',
    '『': '⠰⠤', '』': '⠤⠆', '—': '⠒⠒', '-': '⠒',
    '（': '⠪', '）': '⠕'
}
PUNCTUATION_TRADITIONAL = PUNCTUATION_BASE.copy()
PUNCTUATION_TRADITIONAL.update({'(': '⠪', ')': '⠕', '[': '⠯', ']': '⠽'})
PUNCTUATION_UEB = PUNCTUATION_BASE.copy()
PUNCTUATION_UEB.update({'(': '⠐⠣', ')': '⠐⠜', '[': '⠨⠣', ']': '⠨⠜'})

# 6. 特殊符號
SPECIAL_TRADITIONAL = {'NUMBER_PREFIX': '⠼', 'CAP_SYMBOL': '⠠', 'WORD_CAP_SYMBOL': '⠠⠠', 'SPACE': '  '}
SPECIAL_UEB = {'NUMBER_PREFIX': '⠼', 'CAP_SYMBOL': '⠠', 'WORD_CAP_SYMBOL': '⠠⠠', 'SPACE': '  '}

# 7. 英文
ENGLISH = {
    'a': '⠁', 'b': '⠃', 'c': '⠉', 'd': '⠙', 'e': '⠑', 'f': '⠋', 'g': '⠛', 'h': '⠓', 'i': '⠊', 'j': '⠚',
    'k': '⠅', 'l': '⠇', 'm': '⠍', 'n': '⠝', 'o': '⠕', 'p': '⠏', 'q': '⠟', 'r': '⠗', 's': '⠎', 't': '⠞',
    'u': '⠥', 'v': '⠧', 'w': '⠺', 'x': '⠭', 'y': '⠽', 'z': '⠵'
}

# === 8. Nemeth 數學符號庫 (V18 完整擴充版) ===
NEMETH = {
    'DIGITS': {
        '1': '⠂', '2': '⠆', '3': '⠒', '4': '⠲', '5': '⠢',
        '6': '⠖', '7': '⠶', '8': '⠦', '9': '⠔', '0': '⠴'
    },
    
    # 運算符號 (數字後不需數符)
    'OPERATION_SIGNS': {
        '+': '⠬', '-': '⠤', 
        '×': '⠈⠡', '*': '⠈⠡', 
        '÷': '⠨⠌', '/': '⠨⠌'
    },
    
    # 比較符號 (數字後需數符)
    'COMPARISON_SIGNS': {
        '=': '⠀⠨⠅⠀', 
        '>': '⠀⠨⠂⠀', 
        '<': '⠀⠐⠅⠀'
    },
    
    # 指標
    'INDICATORS': {
        'NUMERIC': '⠼',
        'SUPERSCRIPT': '⠘',   # 次方
        'BASELINE': '⠐',      # 回基線
        'SPACE': ' '
    },
    
    # 括號
    'PARENTHESES': {
        '(': '⠷', ')': '⠾', '[': '⠨⠷', ']': '⠨⠾', '{': '⠸⠷', '}': '⠸⠾'
    },

    # 模式切換
    'SWITCH': {
        'START': '⠸⠩⠀', 
        'END': '⠀⠸⠱'
    }
}